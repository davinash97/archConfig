# HYPRLOCK CONFIG - macOS Style
# ----------------------------

# $wall = /home/davinash97/.images/wall.jpg
$wall = ~/.config/walls/lockscreen.png
# $avatar = /home/davinash97/.images/avatar.jpg
$avatar = ~/.config/walls/avatar.png
$archLogo = /home/davinash97/.images/splash-arch.png

general {
    no_fade_in = false
    grace = 0
    disable_loading = true
}

background {
    monitor =
    path = $wall
    color = rgba(25, 20, 20, 1.0)
    blur_passes = 2 # Increased for smoother macOS-like blur
    blur_size = 3
    noise = 0.0117
    contrast = 0.8916
    brightness = 0.8172
    vibrancy = 0.1696
    vibrancy_darkness = 0.0
}

# TIME
label {
    monitor =
    # text = $TIME
    text = cmd[update:1000] echo "$(date +"%I:%M %p")" # Alternative if $TIME is stubborn
    # color = rgba(255, 255, 255, 0.8)
    font_size = 90
    font_family = SFUIDisplay-Regular
    position = 0, -100
    halign = center
    valign = top
    color = rgba(255, 255, 255, 0.9)
    shadow_passes = 4           # More passes for a softer, "cloudy" glow
    shadow_size = 20            # Larger size to simulate light scattering in mist
    shadow_color = rgba(0, 255, 191, 0.3) # Lower opacity for a haze effect
    shadow_boost = 1.5
}

# DATE
label {
    monitor =
    text = cmd[update:43200000] echo "$(date +"%A, %d %B")"
    color = rgba(255, 255, 255, 0.7)
    font_size = 20
    font_family = SFUIDisplay-Regular
    position = 0, -215
    halign = center
    valign = top
    shadow_passes = 2
    shadow_size = 10
    shadow_color = rgba(255, 187, 0, 0.8)
    shadow_boost = 1.2
}

# USER AVATAR
image {
    monitor =
    path = $avatar
    size = 100
    rounding = -1
    border_size = 0
    border_color = rgba(255, 255, 255, 0.2)
    
    position = 0, 85
    halign = center
    valign = center
    
    shadow_passes = 2
    shadow_size = 4
    shadow_color = rgb(119, 5, 240)
    shadow_boost = 0.4
}

# USERNAME
label {
    monitor =
    text =   $USER
    color = rgba(255, 255, 255, 0.8)
    font_size = 16
    font_family = SFUIDisplay-Regular
    position = 0, -20
    halign = center
    valign = center
}

# PASSWORD INPUT (Pill Shape)
# input-field {
#     monitor =
#     size = 220, 42
#     outline_thickness = 0
#     dots_size = 0.25
#     dots_spacing = 0.3
#     dots_center = true
#     inner_color = rgba(255, 255, 255, 0.15)
#     font_color = rgb(255, 255, 255)
#     fade_on_empty = false
#     placeholder_text = <span foreground="##ffffff66">Password</span>
#     hide_input = false
#     rounding = -1
#     position = 0, -75
#     halign = center
#     valign = center
#     check_color = rgba(0, 255, 191, 0.8)    # Mint glow while checking
#     fail_color = rgba(255, 85, 85, 0.8)     # Red glow if wrong
#     fail_text = <i>$FAIL <b>($ATTEMPTS)</b></i> # Shows attempts
#     capslock_color = rgba(255, 255, 0, 0.8) # Yellow if caps is on
# }

input-field {
    monitor =
    size = 280, 50
    outline_thickness = 2
    
    # The Mint Border
    outer_color = rgba(0, 255, 191, 0.5)
    check_color = rgba(0, 255, 191, 1.0)
    fail_color = rgba(255, 85, 85, 1.0)
    
    # The Glass Effect
    inner_color = rgba(255, 255, 255, 0.1) # Very transparent
    font_color = rgb(255, 255, 255)
    
    dots_size = 0.2
    dots_spacing = 0.3
    dots_center = true
    
    placeholder_text = <span foreground="##ffffffcc"><i>Enter you Password...</i></span>
    hide_input = false
    rounding = 15 # Curved glass look
    
    position = 0, -75
    halign = center
    valign = center
}

# ARCH LOGO (Subtle bottom branding)
image {
    monitor =
    path = $archLogo
    size = 40
    rounding = -1
    border_size = 0
    
    position = 0, 50
    halign = center
    valign = bottom
    opacity = 0.5
    shadow_passes = 2
    shadow_size = 10
    shadow_color = rgba(0, 225, 255, 0.8)
    shadow_boost = 2.0
}

# KEYBOARD LAYOUT (Top Right)
label {
    monitor =
    text = $LAYOUT
    color = rgba(255, 255, 255, 0.88)
    font_size = 10
    font_family = SFUIDisplay-Regular
    position = -30, -30
    halign = right
    valign = top
}

# NETWORK / WIFI (Shows SSID if connected)
label {
    monitor =
    text = cmd[update:5000] echo "$(nmcli -t -f active,ssid dev wifi | grep '^yes' | cut -d: -f2 | sed 's/^/   /')"
    color = rgba(233, 233, 233, 0.8)
    font_size = 14
    font_family = SFUIDisplay-Regular
    position = -130, 30 # Offset to the left of battery
    halign = right
    valign = bottom
}

# BLUETOOTH (Shows icon if a device is connected)
label {
    monitor =
    text = cmd[update:5000] echo "$(bluetoothctl info | grep 'Device' > /dev/null && echo '󰂄')"
    color = rgba(233, 233, 233, 0.8)
    font_size = 16
    font_family = SFUIDisplay-Regular
    position = -100, 30 # Between WiFi and Battery
    halign = right
    valign = bottom
}

# BATTERY
label {
    monitor =
    # This script checks battery level and charging status
    # text = cmd[update:1000] echo -e "$(cat /sys/class/power_supply/BAT1/capacity)% $([ "$(cat /sys/class/power_supply/BAT1/status)" = "Charging" ] && echo "󱐋" || echo "󰁹")"
    text = cmd[update:1000] echo -e "$(cat /sys/class/power_supply/BAT1/capacity)% $(case $(cat /sys/class/power_supply/BAT1/capacity) in [0-9]|1[0-9]) echo 󰁺;; 2[0-9]) echo 󰁻;; 3[0-9]) echo 󰁼;; 4[0-9]) echo 󰁽;; 5[0-9]) echo 󰁾;; 6[0-9]) echo 󰁿;; 7[0-9]) echo 󰂀;; 8[0-9]) echo 󰂁;; 9[0-9]|100) echo 󰁹;; esac)"
    color = rgba(233, 233, 233, 0.8) # Using your Mint color
    font_size = 14
    font_family = SFUIDisplay-Regular
    position = -30, 30
    halign = right
    valign = bottom
    
    # Adding a subtle glow to match your clock
    shadow_passes = 1
    shadow_size = 5
    shadow_color = rgba(149, 0, 255, 0.82)
}

# label {
#     monitor =
#     text = cmd[update:1000] echo "$(playerctl metadata --format '{{artist}} - {{title}}' || echo "")"
#     color = rgba(255, 255, 255, 0.6)
#     font_size = 12
#     font_family = Inter SemiBold
#     position = 30, 30
#     halign = left
#     valign = bottom
# }

# label {
#     monitor =
#     # Greets you: Good Morning/Afternoon/Evening [User]
#     text = cmd[update:60000] echo "<b><big> $(date +"%p" | grep -q "AM" && echo "Good Morning" || echo "Good Evening")</big></b>"
#     color = rgba(48, 48, 48, 0.8)
#     font_size = 18
#     font_family = Inter Display
#     position = 30, -30
#     halign = left
#     valign = bottom
# }